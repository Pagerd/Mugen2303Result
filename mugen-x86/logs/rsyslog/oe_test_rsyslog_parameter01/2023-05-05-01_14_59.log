+ source /root/mugen/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/mugen/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start to prepare the test environment.'
+ message='Start to prepare the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to prepare the test environment.'
Fri May  5 01:15:00 2023 - INFO  - Start to prepare the test environment.
+ systemctl stop rsyslog
+ LOG_INFO 'End to prepare the test environment.'
+ message='End to prepare the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to prepare the test environment.'
Fri May  5 01:15:01 2023 - INFO  - End to prepare the test environment.
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start to run test.'
+ message='Start to run test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to run test.'
Fri May  5 01:15:01 2023 - INFO  - Start to run test.
+ rsyslogd -d
Starting parse
Entering state 0
Reducing stack by rule 1 (line 135):
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Reading a token: Next token is token BEGINOBJ ()
Shifting token BEGINOBJ ()
Entering state 3
Reading a token: Next token is token NAME ()
Reducing stack by rule 18 (line 161):
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 3 29 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 3 29
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Reading a token: Next token is token ENDOBJ ()
Shifting token ENDOBJ ()
Entering state 60
Reducing stack by rule 8 (line 142):
   $1 = token BEGINOBJ ()
   $2 = nterm nvlst ()
   $3 = token ENDOBJ ()
-> $$ = nterm obj ()
Stack now 0 1
Entering state 25
Reducing stack by rule 2 (line 136):
   $1 = nterm conf ()
   $2 = nterm obj ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Reading a token: Next token is token BEGINOBJ ()
Shifting token BEGINOBJ ()
Entering state 3
Reading a token: Next token is token NAME ()
Reducing stack by rule 18 (line 161):
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 3 29 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 3 29
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Reading a token: Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 3 29 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 3 29
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Reading a token: Next token is token ENDOBJ ()
Shifting token ENDOBJ ()
Entering state 60
Reducing stack by rule 8 (line 142):
   $1 = token BEGINOBJ ()
   $2 = nterm nvlst ()
   $3 = token ENDOBJ ()
-> $$ = nterm obj ()
Stack now 0 1
Entering state 25
Reducing stack by rule 2 (line 136):
   $1 = nterm conf ()
   $2 = nterm obj ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Reading a token: Next token is token BEGINOBJ ()
Shifting token BEGINOBJ ()
Entering state 3
Reading a token: Next token is token NAME ()
Reducing stack by rule 18 (line 161):
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 3 29 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 3 29
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Reading a token: Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 3 29 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 3 29
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Reading a token: Next token is token ENDOBJ ()
Shifting token ENDOBJ ()
Entering state 60
Reducing stack by rule 8 (line 142):
   $1 = token BEGINOBJ ()
   $2 = nterm nvlst ()
   $3 = token ENDOBJ ()
-> $$ = nterm obj ()
Stack now 0 1
Entering state 25
Reducing stack by rule 2 (line 136):
   $1 = nterm conf ()
   $2 = nterm obj ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Reading a token: Next token is token BEGINOBJ ()
Shifting token BEGINOBJ ()
Entering state 3
Reading a token: Next token is token NAME ()
Reducing stack by rule 18 (line 161):
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 3 29 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 3 29
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Reading a token: Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 3 29 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 3 29
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 3
Entering state 29
Reading a token: Next token is token ENDOBJ ()
Shifting token ENDOBJ ()
Entering state 60
Reducing stack by rule 8 (line 142):
   $1 = token BEGINOBJ ()
   $2 = nterm nvlst ()
   $3 = token ENDOBJ ()
-> $$ = nterm obj ()
Stack now 0 1
Entering state 25
Reducing stack by rule 2 (line 136):
   $1 = nterm conf ()
   $2 = nterm obj ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Reading a token: Next token is token BEGIN_INCLUDE ()
Shifting token BEGIN_INCLUDE ()
Entering state 4
Reducing stack by rule 18 (line 161):
-> $$ = nterm nvlst ()
Stack now 0 1 4
Entering state 30
Reading a token: Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 4 30 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 4 30
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 4
Entering state 30
Reading a token: Next token is token NAME ()
Shifting token NAME ()
Entering state 59
Reading a token: Next token is token '=' ()
Shifting token '=' ()
Entering state 103
Reading a token: Next token is token STRING ()
Shifting token STRING ()
Entering state 139
Reducing stack by rule 21 (line 164):
   $1 = token STRING ()
-> $$ = nterm value ()
Stack now 0 1 4 30 59 103
Entering state 140
Reducing stack by rule 20 (line 163):
   $1 = token NAME ()
   $2 = token '=' ()
   $3 = nterm value ()
-> $$ = nterm nv ()
Stack now 0 1 4 30
Entering state 61
Reducing stack by rule 19 (line 162):
   $1 = nterm nvlst ()
   $2 = nterm nv ()
-> $$ = nterm nvlst ()
Stack now 0 1 4
Entering state 30
Reading a token: Next token is token ENDOBJ ()
Shifting token ENDOBJ ()
Entering state 62
Reducing stack by rule 7 (line 141):
   $1 = token BEGIN_INCLUDE ()
   $2 = nterm nvlst ()
   $3 = token ENDOBJ ()
-> $$ = nterm include ()
Stack now 0 1
Entering state 24
Reducing stack by rule 35 (line 186):
   $1 = nterm include ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Reading a token: Next token is token PRIFILT ()
Shifting token PRIFILT ()
Entering state 17
Reading a token: Next token is token LEGACY_ACTION ()
Shifting token LEGACY_ACTION ()
Entering state 15
Reducing stack by rule 42 (line 194):
   $1 = token LEGACY_ACTION ()
-> $$ = nterm s_act ()
Stack now 0 1 17
Entering state 28
Reducing stack by rule 39 (line 190):
   $1 = nterm s_act ()
-> $$ = nterm actlst ()
Stack now 0 1 17
Entering state 27
Reading a token: Next token is token PRIFILT ()
Reducing stack by rule 25 (line 168):
   $1 = nterm actlst ()
-> $$ = nterm stmt ()
Stack now 0 1 17
Entering state 51
Reducing stack by rule 37 (line 188):
   $1 = nterm stmt ()
-> $$ = nterm block ()
Stack now 0 1 17
Entering state 52
Reducing stack by rule 32 (line 183):
   $1 = token PRIFILT ()
   $2 = nterm block ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Next token is token PRIFILT ()
Shifting token PRIFILT ()
Entering state 17
Reading a token: Next token is token LEGACY_ACTION ()
Shifting token LEGACY_ACTION ()
Entering state 15
Reducing stack by rule 42 (line 194):
   $1 = token LEGACY_ACTION ()
-> $$ = nterm s_act ()
Stack now 0 1 17
Entering state 28
Reducing stack by rule 39 (line 190):
   $1 = nterm s_act ()
-> $$ = nterm actlst ()
Stack now 0 1 17
Entering state 27
Reading a token: Next token is token PRIFILT ()
Reducing stack by rule 25 (line 168):
   $1 = nterm actlst ()
-> $$ = nterm stmt ()
Stack now 0 1 17
Entering state 51
Reducing stack by rule 37 (line 188):
   $1 = nterm stmt ()
-> $$ = nterm block ()
Stack now 0 1 17
Entering state 52
Reducing stack by rule 32 (line 183):
   $1 = token PRIFILT ()
   $2 = nterm block ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Next token is token PRIFILT ()
Shifting token PRIFILT ()
Entering state 17
Reading a token: Next token is token LEGACY_ACTION ()
Shifting token LEGACY_ACTION ()
Entering state 15
Reducing stack by rule 42 (line 194):
   $1 = token LEGACY_ACTION ()
-> $$ = nterm s_act ()
Stack now 0 1 17
Entering state 28
Reducing stack by rule 39 (line 190):
   $1 = nterm s_act ()
-> $$ = nterm actlst ()
Stack now 0 1 17
Entering state 27
Reading a token: Next token is token PRIFILT ()
Reducing stack by rule 25 (line 168):
   $1 = nterm actlst ()
-> $$ = nterm stmt ()
Stack now 0 1 17
Entering state 51
Reducing stack by rule 37 (line 188):
   $1 = nterm stmt ()
-> $$ = nterm block ()
Stack now 0 1 17
Entering state 52
Reducing stack by rule 32 (line 183):
   $1 = token PRIFILT ()
   $2 = nterm block ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Next token is token PRIFILT ()
Shifting token PRIFILT ()
Entering state 17
Reading a token: Next token is token LEGACY_ACTION ()
Shifting token LEGACY_ACTION ()
Entering state 15
Reducing stack by rule 42 (line 194):
   $1 = token LEGACY_ACTION ()
-> $$ = nterm s_act ()
Stack now 0 1 17
Entering state 28
Reducing stack by rule 39 (line 190):
   $1 = nterm s_act ()
-> $$ = nterm actlst ()
Stack now 0 1 17
Entering state 27
Reading a token: Next token is token PRIFILT ()
Reducing stack by rule 25 (line 168):
   $1 = nterm actlst ()
-> $$ = nterm stmt ()
Stack now 0 1 17
Entering state 51
Reducing stack by rule 37 (line 188):
   $1 = nterm stmt ()
-> $$ = nterm block ()
Stack now 0 1 17
Entering state 52
Reducing stack by rule 32 (line 183):
   $1 = token PRIFILT ()
   $2 = nterm block ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Next token is token PRIFILT ()
Shifting token PRIFILT ()
Entering state 17
Reading a token: Next token is token LEGACY_ACTION ()
Shifting token LEGACY_ACTION ()
Entering state 15
Reducing stack by rule 42 (line 194):
   $1 = token LEGACY_ACTION ()
-> $$ = nterm s_act ()
Stack now 0 1 17
Entering state 28
Reducing stack by rule 39 (line 190):
   $1 = nterm s_act ()
-> $$ = nterm actlst ()
Stack now 0 1 17
Entering state 27
Reading a token: Next token is token PRIFILT ()
Reducing stack by rule 25 (line 168):
   $1 = nterm actlst ()
-> $$ = nterm stmt ()
Stack now 0 1 17
Entering state 51
Reducing stack by rule 37 (line 188):
   $1 = nterm stmt ()
-> $$ = nterm block ()
Stack now 0 1 17
Entering state 52
Reducing stack by rule 32 (line 183):
   $1 = token PRIFILT ()
   $2 = nterm block ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Next token is token PRIFILT ()
Shifting token PRIFILT ()
Entering state 17
Reading a token: Next token is token LEGACY_ACTION ()
Shifting token LEGACY_ACTION ()
Entering state 15
Reducing stack by rule 42 (line 194):
   $1 = token LEGACY_ACTION ()
-> $$ = nterm s_act ()
Stack now 0 1 17
Entering state 28
Reducing stack by rule 39 (line 190):
   $1 = nterm s_act ()
-> $$ = nterm actlst ()
Stack now 0 1 17
Entering state 27
Reading a token: Next token is token PRIFILT ()
Reducing stack by rule 25 (line 168):
   $1 = nterm actlst ()
-> $$ = nterm stmt ()
Stack now 0 1 17
Entering state 51
Reducing stack by rule 37 (line 188):
   $1 = nterm stmt ()
-> $$ = nterm block ()
Stack now 0 1 17
Entering state 52
Reducing stack by rule 32 (line 183):
   $1 = token PRIFILT ()
   $2 = nterm block ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Next token is token PRIFILT ()
Shifting token PRIFILT ()
Entering state 17
Reading a token: Next token is token LEGACY_ACTION ()
Shifting token LEGACY_ACTION ()
Entering state 15
Reducing stack by rule 42 (line 194):
   $1 = token LEGACY_ACTION ()
-> $$ = nterm s_act ()
Stack now 0 1 17
Entering state 28
Reducing stack by rule 39 (line 190):
   $1 = nterm s_act ()
-> $$ = nterm actlst ()
Stack now 0 1 17
Entering state 27
Reading a token: Now at end of input.
Reducing stack by rule 25 (line 168):
   $1 = nterm actlst ()
-> $$ = nterm stmt ()
Stack now 0 1 17
Entering state 51
Reducing stack by rule 37 (line 188):
   $1 = nterm stmt ()
-> $$ = nterm block ()
Stack now 0 1 17
Entering state 52
Reducing stack by rule 32 (line 183):
   $1 = token PRIFILT ()
   $2 = nterm block ()
-> $$ = nterm stmt ()
Stack now 0 1
Entering state 26
Reducing stack by rule 3 (line 137):
   $1 = nterm conf ()
   $2 = nterm stmt ()
-> $$ = nterm conf ()
Stack now 0
Entering state 1
Now at end of input.
Shifting token $end ()
Entering state 2
Stack now 0 1 2
Cleanup: popping token $end ()
Cleanup: popping nterm conf ()
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ '[' -f file1 ']'
+ grep 'main Q' file1
9302.022944810:main thread    : main Q: queue.c: starting queue
9302.023110630:main thread    : main Q: queue.c: is NOT disk-assisted
9302.023183700:main thread    : main Q: queue.c: params: type 0, enq-only 0, disk assisted 0, spoolDir '/var/lib/rsyslog', maxFileSz 1048576, maxQSize 100000, lqsize 0, pqsize 0, child 0, full delay 97000, light delay 70000, deq batch size 256, min deq batch size 0, high wtrmrk 80000, low wtrmrk 20000, discardmrk 98000, max wrkr 2, min msgs f. wrkr 40000 takeFlowCtlFromMsg 0
9302.023338820:main thread    : wtp.c: main Q:Reg: finalizing construction of worker thread pool (numworkerThreads 2)
9302.023456730:main thread    : wti.c: main Q:Reg/w0: finalizing construction of worker instance data (for 7 actions)
9302.023718450:main thread    : wti.c: main Q:Reg/w1: finalizing construction of worker instance data (for 7 actions)
9302.023880100:main thread    : main Q: queue.c: queue finished initialization
9302.031000670:imjournal.c    : wtp.c: main Q:Reg: started with state 0, num workers now 1
9302.031534960:7f959729d6c0: debug.c: thread created, tid 7486, name 'rs:main Q:Reg'
9302.031769640:main Q:Reg/w0  : wti.c: wti 0x55cc7e2e89e0: worker starting
9302.031832830:imjournal.c    : wtp.c: main Q:Reg: new worker finished initialization with state 3, num workers now 1
9302.031931960:imjournal.c    : main Q: queue.c: EnqueueMsg advised worker start
9302.032029840:main Q:Reg/w0  : queue.c: DeleteProcessedBatch: we deleted 0 objects and enqueued 0 objects
9302.032082960:main Q:Reg/w0  : queue.c: rger: deleteBatchFromQStore, nElem 0
9302.032139300:main Q:Reg/w0  : queue.c: doDeleteBatch: delete batch from store, new sizes: log 1, phys 1
9302.032196940:main Q:Reg/w0  : main Q: queue.c: entry deleted, size now log 0, phys 1 entries
9302.032259520:main Q:Reg/w0  : main Q: queue.c: dequeued 1 discarded 0 QueueSize 1 consumable elements, szlog 0 sz phys 1
9302.032413790:main Q:Reg/w0  : ruleset.c: processBATCH: batch of 1 elements must be processed
9302.032443320:imjournal.c    : main Q: queue.c: EnqueueMsg advised worker start
9302.032459430:main Q:Reg/w0  : ruleset.c: processBATCH: next msg 0: [systemctl stop rsyslog] called by PID 7462 (bash -x oe_test_rsyslog_parameter01.sh)
9302.032612030:main Q:Reg/w0  : rainerscript.c:     PRIFILT '*.info;mail.none;authpriv.none;cron.none'
9302.032700210:main Q:Reg/w0  : rainerscript.c:     pmask: 7F 7F  X 7F 7F 7F 7F 7F 
9302.032852820:main Q:Reg/w0  : rainerscript.c: 7F 
9302.032852820:imjournal.c    : main Q: queue.c: EnqueueMsg advised worker start
9302.033139910:imjournal.c    : main Q: queue.c: EnqueueMsg advised worker start
9302.033151530:main Q:Reg/w0  : ruleset.c: PRIFILT condition result is 1
9302.033193360:main Q:Reg/w0  : rainerscript.c:     ACTION 0 [builtin:omfile:/var/log/messages]
9302.033260640:main Q:Reg/w0  : ruleset.c: executing action 0
9302.033315480:main Q:Reg/w0  : ../action.c: action 'action-0-builtin:omfile': called, logging to builtin:omfile (susp 0/0, direct q 1)
9302.033369880:main Q:Reg/w0  : ../action.c: action 'action-0-builtin:omfile': is transactional - executing in commit phase
9302.033406390:main Q:Reg/w0  : ../action.c: actionPrepare[action-0-builtin:omfile]: enter
9302.033439850:main Q:Reg/w0  : ../action.c: wti 0x55cc7e2e89e0: we need to create a new action worker instance for action 0
9302.033450410:imjournal.c    : main Q: queue.c: EnqueueMsg advised worker start
9302.033482590:main Q:Reg/w0  : ../action.c: wti 0x55cc7e2e89e0: created action worker instance 1 for action 0
9302.033521200:main Q:Reg/w0  : ../action.c: checking external state file
9302.033662900:main Q:Reg/w0  : ../action.c: done checking external state file, iRet=0
9302.033727710:main Q:Reg/w0  : ../action.c: action[action-0-builtin:omfile] transitioned to state: itx
9302.033764050:main Q:Reg/w0  : ../action.c: action 'action-0-builtin:omfile': set suspended state to 0
9302.033791180:main Q:Reg/w0  : rainerscript.c:     PRIFILT 'authpriv.*'
9302.033838370:main Q:Reg/w0  : rainerscript.c:     pmask:  X  X  X  X  X  X  X  X  X  X FF  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X 
9302.034218900:main Q:Reg/w0  : ruleset.c: PRIFILT condition result is 0
9302.034244060:main Q:Reg/w0  : rainerscript.c:     PRIFILT 'mail.*'
9302.034290810:main Q:Reg/w0  : rainerscript.c:     pmask:  X  X FF  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X  X 9302.034754680:main Q:Reg/w0  : rainerscript.c: 
9302.034778210:main Q:Reg/w0  : ruleset.c: PRIFILT condition result is 0
9302.034825870:main Q:Reg/w0  : rainerscript.c:   9302.034829750:imjournal.c    : operatingstate.c: osf: MSG imjournal: journal files changed, reloading...
9302.034845050:main Q:Reg/w0  : rainerscript.c:   PRIFILT 'cron.*'
9302.034886860:main Q:Reg/w0  : rainerscript.c:   9302.034905280:main Q:Reg/w0  : rainerscript.c:   
9302.034923450:main Q:Reg/w0  : rainerscript.c: pmask:  X  X  X  X  X  X  X  X  X FF  X  X  X  X  X  X  X  X 
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ pgrep -f rsyslogd
+ xargs kill -9
+ SLEEP_WAIT 3
+ wait_time=3
+ cmd=
+ mode=1
+ python3 /root/mugen/libs/locallibs/sleep_wait.py --time 3 --cmd '' --mode 1
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ rsyslogd -v
+ grep rsyslogd
rsyslogd  8.2210.0 (aka 2022.10) compiled with:
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ rsyslogd -o file2
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ '[' -f file2 ']'
+ grep /etc/rsyslog.conf file2
##### BEGIN CONFIG: /etc/rsyslog.conf (put on stack)
##### END   CONFIG: /etc/rsyslog.conf
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ pgrep -f rsyslogd
+ xargs kill -9
+ SLEEP_WAIT 1
+ wait_time=1
+ cmd=
+ mode=1
+ python3 /root/mugen/libs/locallibs/sleep_wait.py --time 1 --cmd '' --mode 1
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ rsyslogd -n
+ SLEEP_WAIT 1
+ wait_time=1
+ cmd=
+ mode=1
+ python3 /root/mugen/libs/locallibs/sleep_wait.py --time 1 --cmd '' --mode 1
+ pgrep -f rsyslogd
+ xargs kill -9
oe_test_rsyslog_parameter01.sh: line 27:  7505 Killed                  rsyslogd -n
+ LOG_INFO 'End to run test.'
+ message='End to run test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to run test.'
Fri May  5 01:15:08 2023 - INFO  - End to run test.
+ CASE_RESULT 0
+ case_re=0
+ test -z ''
+ test 0 -eq 0
+ LOG_INFO 'succeed to execute the case.'
+ message='succeed to execute the case.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'succeed to execute the case.'
Fri May  5 01:15:09 2023 - INFO  - succeed to execute the case.
+ exec_result=
+ exit 0
+ post_test
+ LOG_INFO 'Start to restore the test environment.'
+ message='Start to restore the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to restore the test environment.'
Fri May  5 01:15:09 2023 - INFO  - Start to restore the test environment.
+ rm -rf file1 file2
+ systemctl start rsyslog
+ LOG_INFO 'End to restore the test environment.'
+ message='End to restore the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to restore the test environment.'
Fri May  5 01:15:09 2023 - INFO  - End to restore the test environment.
