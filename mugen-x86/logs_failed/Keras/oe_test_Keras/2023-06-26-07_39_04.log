+ source /root/mugen-riscv/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/mugen-riscv/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ grep expect
+ rpm -qa
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start environment preparation.'
+ message='Start environment preparation.'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Start environment preparation.'
Mon Jun 26 07:39:18 2023 - INFO  - Start environment preparation.
+ DNF_INSTALL python3-Keras
+ pkgs=python3-Keras
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/mugen-riscv/libs/locallibs/rpm_manage.py install --pkgs python3-Keras --node 1 --tempfile ''
+ tmpfile2=/tmp/tmp5zh2u5ls
+ '[' -z '' ']'
+ tmpfile=/tmp/tmp5zh2u5ls
+ pip3 install tensorflow -i https://pypi.tuna.tsinghua.edu.cn/simple
Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
Collecting tensorflow
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/3f/b2/33372601ed71fb41049642f8f6e1e142215e8b5c3463df434fc8885db278/tensorflow-2.12.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (585.9 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 585.9/585.9 MB ? eta 0:00:00
Collecting packaging
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/ab/c3/57f0601a2d4fe15de7a553c00adbc901425661bf048f2a22dfc500caf121/packaging-23.1-py3-none-any.whl (48 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.9/48.9 kB 494.7 kB/s eta 0:00:00
Collecting termcolor>=1.1.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/67/e1/434566ffce04448192369c1a282931cf4ae593e91907558eaecd2e9f2801/termcolor-2.3.0-py3-none-any.whl (6.9 kB)
Collecting flatbuffers>=2.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/6f/12/d5c79ee252793ffe845d58a913197bfa02ae9a0b5c9bc3dc4b58d477b9e7/flatbuffers-23.5.26-py2.py3-none-any.whl (26 kB)
Collecting astunparse>=1.6.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/2b/03/13dde6512ad7b4557eb792fbcf0c653af6076b81e5941d36ec61f7ce6028/astunparse-1.6.3-py2.py3-none-any.whl (12 kB)
Collecting libclang>=13.0.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/a1/82/1fd88a2df784dbcfdfba7dbb335653f4178c7c73fa7fe95bae888e60d34b/libclang-16.0.0-py2.py3-none-manylinux2010_x86_64.whl (22.9 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 22.9/22.9 MB 1.3 MB/s eta 0:00:00
Collecting grpcio<2.0,>=1.24.3
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/a9/6e/fa9785a95e70d60b9b2b75944e422b06c62eaed183abdfcdc0b7812b1e21/grpcio-1.56.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (5.2 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.2/5.2 MB 1.8 MB/s eta 0:00:00
Collecting gast<=0.4.0,>=0.2.1
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/b6/48/583c032b79ae5b3daa02225a675aeb673e58d2cb698e78510feceb11958c/gast-0.4.0-py3-none-any.whl (9.8 kB)
Collecting google-pasta>=0.1.1
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/a3/de/c648ef6835192e6e2cc03f40b19eeda4382c49b5bafb43d88b931c4c74ac/google_pasta-0.2.0-py3-none-any.whl (57 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.5/57.5 kB 841.5 kB/s eta 0:00:00
Collecting protobuf!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<5.0.0dev,>=3.20.3
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/b9/64/32f6708e6dd4159b18ea757d907295ebe2d380009c7e08b953c5d161415e/protobuf-4.23.3-cp37-abi3-manylinux2014_x86_64.whl (304 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 304.5/304.5 kB 706.6 kB/s eta 0:00:00
Collecting tensorboard<2.13,>=2.12
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/32/09/86e2ef3b4f4ec04bde0eca499325f291ae6b3313381d0666ee20b5b80c73/tensorboard-2.12.3-py3-none-any.whl (5.6 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.6/5.6 MB 1.6 MB/s eta 0:00:00
Collecting keras<2.13,>=2.12.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/d5/80/34e55d7e3ed9cf18020929460f969de1bf82cf2f509c639b358ae2b25618/keras-2.12.0-py2.py3-none-any.whl (1.7 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 2.4 MB/s eta 0:00:00
Collecting jax>=0.3.15
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/1e/f2/03643b515aede51a812608e3fe37cbc30426241e512bb0fb8546c36ddd5b/jax-0.4.13.tar.gz (1.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 2.4 MB/s eta 0:00:00
  Installing build dependencies: started
  Installing build dependencies: still running...
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting numpy<1.24,>=1.22
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/e4/f3/679b3a042a127de0d7c84874913c3e23bb84646eb3bc6ecab3f8c872edc9/numpy-1.23.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.1/17.1 MB 2.3 MB/s eta 0:00:00
Collecting tensorflow-estimator<2.13,>=2.12.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/d1/e1/c3596da404e2c47561a2bb392397208925e65be6f61bd3081e630371d5e8/tensorflow_estimator-2.12.0-py2.py3-none-any.whl (440 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 440.7/440.7 kB 2.7 MB/s eta 0:00:00
Collecting h5py>=2.9.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/0d/7a/e55589e4093cca1934db5e99644c1c2424a9b3aac104b7f6176605a5eeb7/h5py-3.9.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.8 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.8/4.8 MB 2.8 MB/s eta 0:00:00
Collecting typing-extensions>=3.6.6
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/5f/86/d9b1518d8e75b346a33eb59fa31bdbbee11459a7e2cc5be502fa779e96c5/typing_extensions-4.6.3-py3-none-any.whl (31 kB)
Collecting tensorflow-io-gcs-filesystem>=0.23.1
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/96/77/920d9c132591faeb72c3c3d342c5139ef2d5c6863d2861c4e3927803bcf0/tensorflow_io_gcs_filesystem-0.32.0-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (2.4 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.4/2.4 MB 2.4 MB/s eta 0:00:00
Requirement already satisfied: six>=1.12.0 in /usr/lib/python3.10/site-packages (from tensorflow) (1.16.0)
Requirement already satisfied: setuptools in /usr/lib/python3.10/site-packages (from tensorflow) (60.9.3)
Collecting absl-py>=1.0.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/dd/87/de5c32fa1b1c6c3305d576e299801d8655c175ca9557019906247b994331/absl_py-1.4.0-py3-none-any.whl (126 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 126.5/126.5 kB 1.2 MB/s eta 0:00:00
Collecting opt-einsum>=2.3.2
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/bc/19/404708a7e54ad2798907210462fd950c3442ea51acc8790f3da48d2bee8b/opt_einsum-3.3.0-py3-none-any.whl (65 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 1.6 MB/s eta 0:00:00
Collecting wrapt<1.15,>=1.11.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/fd/70/8a133c88a394394dd57159083b86a564247399440b63f2da0ad727593570/wrapt-1.14.1-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (77 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.9/77.9 kB 1.4 MB/s eta 0:00:00
Collecting wheel<1.0,>=0.23.0
  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/61/86/cc8d1ff2ca31a312a25a708c891cf9facbad4eae493b3872638db6785eb5/wheel-0.40.0-py3-none-any.whl (64 kB)
Collecting scipy>=1.7
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/5a/55/ec296aa9399d00f5d6794b90d96b5cce5eeb46c62450173fedb2b3b7ef72/scipy-1.11.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (36.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 36.3/36.3 MB 2.0 MB/s eta 0:00:00
Collecting ml-dtypes>=0.1.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/d1/1d/d5cf76e5e40f69dbd273036e3172ae4a614577cb141673427b80cac948df/ml_dtypes-0.2.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.0 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.0/1.0 MB 2.7 MB/s eta 0:00:00
Requirement already satisfied: werkzeug>=1.0.1 in /usr/lib/python3.10/site-packages (from tensorboard<2.13,>=2.12->tensorflow) (2.0.3)
Collecting google-auth-oauthlib<1.1,>=0.5
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/4a/07/8d9a8186e6768b55dfffeb57c719bc03770cf8a970a074616ae6f9e26a57/google_auth_oauthlib-1.0.0-py2.py3-none-any.whl (18 kB)
Collecting markdown>=2.6.8
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/9a/a1/1352b0e5a3c71a79fa9265726e2217f69df9fd4de0bcb5725cc61f62a5df/Markdown-3.4.3-py3-none-any.whl (93 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 93.9/93.9 kB 805.6 kB/s eta 0:00:00
Requirement already satisfied: google-auth<3,>=1.6.3 in /usr/lib/python3.10/site-packages (from tensorboard<2.13,>=2.12->tensorflow) (2.15.0)
Requirement already satisfied: requests<3,>=2.21.0 in /usr/lib/python3.10/site-packages (from tensorboard<2.13,>=2.12->tensorflow) (2.28.1)
Collecting tensorboard-data-server<0.8.0,>=0.7.0
  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/02/52/fb9e51fba47951aabd7a6b25e41d73eae94208ccf62d886168096941a781/tensorboard_data_server-0.7.1-py3-none-manylinux2014_x86_64.whl (6.6 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.6/6.6 MB 1.9 MB/s eta 0:00:00
Requirement already satisfied: cachetools<6.0,>=2.0.0 in /usr/lib/python3.10/site-packages (from google-auth<3,>=1.6.3->tensorboard<2.13,>=2.12->tensorflow) (5.2.0)
Requirement already satisfied: pyasn1-modules>=0.2.1 in /usr/lib/python3.10/site-packages (from google-auth<3,>=1.6.3->tensorboard<2.13,>=2.12->tensorflow) (0.2.8)
Requirement already satisfied: rsa<5,>=3.1.4 in /usr/lib/python3.10/site-packages (from google-auth<3,>=1.6.3->tensorboard<2.13,>=2.12->tensorflow) (4.9)
Requirement already satisfied: requests-oauthlib>=0.7.0 in /usr/lib/python3.10/site-packages (from google-auth-oauthlib<1.1,>=0.5->tensorboard<2.13,>=2.12->tensorflow) (1.3.1)
Requirement already satisfied: charset_normalizer<4,>=2 in /usr/lib/python3.10/site-packages (from requests<3,>=2.21.0->tensorboard<2.13,>=2.12->tensorflow) (3.0.1)
Requirement already satisfied: idna<4,>=2.5 in /usr/lib/python3.10/site-packages (from requests<3,>=2.21.0->tensorboard<2.13,>=2.12->tensorflow) (3.3)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3.10/site-packages (from requests<3,>=2.21.0->tensorboard<2.13,>=2.12->tensorflow) (1.26.12)
Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /usr/lib/python3.10/site-packages (from pyasn1-modules>=0.2.1->google-auth<3,>=1.6.3->tensorboard<2.13,>=2.12->tensorflow) (0.4.8)
Requirement already satisfied: oauthlib>=3.0.0 in /usr/lib/python3.10/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib<1.1,>=0.5->tensorboard<2.13,>=2.12->tensorflow) (3.2.2)
Building wheels for collected packages: jax
  Building wheel for jax (pyproject.toml): started
  Building wheel for jax (pyproject.toml): finished with status 'done'
  Created wheel for jax: filename=jax-0.4.13-py3-none-any.whl size=1518707 sha256=c92883f01a9ec3f8669acee021249f45075be5a84582ca1d2dff9925142df344
  Stored in directory: /root/.cache/pip/wheels/88/dc/b6/056496e2c45d9daee060b9266f3e8499c30ec8ae759518a33f
Successfully built jax
Installing collected packages: libclang, flatbuffers, wrapt, wheel, typing-extensions, termcolor, tensorflow-io-gcs-filesystem, tensorflow-estimator, tensorboard-data-server, protobuf, packaging, numpy, markdown, keras, grpcio, google-pasta, gast, absl-py, scipy, opt-einsum, ml-dtypes, h5py, astunparse, jax, google-auth-oauthlib, tensorboard, tensorflow
Successfully installed absl-py-1.4.0 astunparse-1.6.3 flatbuffers-23.5.26 gast-0.4.0 google-auth-oauthlib-1.0.0 google-pasta-0.2.0 grpcio-1.56.0 h5py-3.9.0 jax-0.4.13 keras-2.12.0 libclang-16.0.0 markdown-3.4.3 ml-dtypes-0.2.0 numpy-1.23.5 opt-einsum-3.3.0 packaging-23.1 protobuf-4.23.3 scipy-1.11.0 tensorboard-2.12.3 tensorboard-data-server-0.7.1 tensorflow-2.12.0 tensorflow-estimator-2.12.0 tensorflow-io-gcs-filesystem-0.32.0 termcolor-2.3.0 typing-extensions-4.6.3 wheel-0.40.0 wrapt-1.14.1
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
+ LOG_INFO 'End of environmental preparation!'
+ message='End of environmental preparation!'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'End of environmental preparation!'
Mon Jun 26 08:07:16 2023 - INFO  - End of environmental preparation!
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ python3 Keras_1.py
oe_test_Keras.sh: line 29:  2100 Illegal instruction     (core dumped) python3 Keras_1.py > log1.txt
+ CHECK_RESULT 132 0 0 'Keras_1.py failure'
+ actual_result=132
+ expect_result=0
+ mode=0
+ error_log='Keras_1.py failure'
+ '[' -z 132 ']'
+ '[' 0 -eq 0 ']'
+ test 132x '!=' 0x
+ test -n 'Keras_1.py failure'
+ LOG_ERROR 'Keras_1.py failure'
+ message='Keras_1.py failure'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'Keras_1.py failure'
Mon Jun 26 08:07:35 2023 - ERROR - Keras_1.py failure
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_Keras.sh line 31'
+ message='oe_test_Keras.sh line 31'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_Keras.sh line 31'
Mon Jun 26 08:07:37 2023 - ERROR - oe_test_Keras.sh line 31
+ return 0
+ cat log1.txt
+ grep Epoch
+ CHECK_RESULT 1 0 0 'Functional model failure'
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log='Functional model failure'
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n 'Functional model failure'
+ LOG_ERROR 'Functional model failure'
+ message='Functional model failure'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'Functional model failure'
Mon Jun 26 08:07:39 2023 - ERROR - Functional model failure
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_Keras.sh line 33'
+ message='oe_test_Keras.sh line 33'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_Keras.sh line 33'
Mon Jun 26 08:07:41 2023 - ERROR - oe_test_Keras.sh line 33
+ return 0
+ python3 Keras_2.py
oe_test_Keras.sh: line 29:  2119 Illegal instruction     (core dumped) python3 Keras_2.py > log2.txt
+ CHECK_RESULT 132 0 0 'Keras_2.py failure'
+ actual_result=132
+ expect_result=0
+ mode=0
+ error_log='Keras_2.py failure'
+ '[' -z 132 ']'
+ '[' 0 -eq 0 ']'
+ test 132x '!=' 0x
+ test -n 'Keras_2.py failure'
+ LOG_ERROR 'Keras_2.py failure'
+ message='Keras_2.py failure'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'Keras_2.py failure'
Mon Jun 26 08:07:55 2023 - ERROR - Keras_2.py failure
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_Keras.sh line 35'
+ message='oe_test_Keras.sh line 35'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_Keras.sh line 35'
Mon Jun 26 08:07:57 2023 - ERROR - oe_test_Keras.sh line 35
+ return 0
+ cat log2.txt
+ grep Epoch
+ CHECK_RESULT 1 0 0 'Serialization model failure'
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log='Serialization model failure'
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n 'Serialization model failure'
+ LOG_ERROR 'Serialization model failure'
+ message='Serialization model failure'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'Serialization model failure'
Mon Jun 26 08:07:59 2023 - ERROR - Serialization model failure
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_Keras.sh line 37'
+ message='oe_test_Keras.sh line 37'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'oe_test_Keras.sh line 37'
Mon Jun 26 08:08:01 2023 - ERROR - oe_test_Keras.sh line 37
+ return 0
+ CASE_RESULT 0
+ case_re=0
+ test -z 4
+ test 4 -gt 0
+ LOG_ERROR 'failed to execute the case.'
+ message='failed to execute the case.'
+ python3 /root/mugen-riscv/libs/locallibs/mugen_log.py --level error --message 'failed to execute the case.'
Mon Jun 26 08:08:03 2023 - ERROR - failed to execute the case.
+ exit 4
+ post_test
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z /tmp/tmp5zh2u5ls ]]
+ '[' 0 -ne 0 ']'
+ '[' 1 == 0 ']'
+ python3 /root/mugen-riscv/libs/locallibs/rpm_manage.py remove --node 1 --pkgs '' --tempfile /tmp/tmp5zh2u5ls
+ '[' 0 -ne 0 ']'
+ pip3 uninstall tensorflow -y
Found existing installation: tensorflow 2.12.0
Mon Jun 26 08:09:07 2023 - ERROR - Timeout : Command 'bash -x oe_test_Keras.sh' timed out after 1799.99896403 seconds
